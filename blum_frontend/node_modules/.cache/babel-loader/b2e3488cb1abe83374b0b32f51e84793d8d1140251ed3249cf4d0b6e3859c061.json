{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\joaow\\\\blum\\\\blum_frontend\\\\src\\\\Pages\\\\OrdersPage.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport apiService from '../apiService';\nimport OrdersForm from '../components/OrdersForm';\nimport ConfirmationModal from '../components/ConfirmationModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrdersPage = ({\n  userId,\n  reps,\n  brands\n}) => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [modalConfig, setModalConfig] = useState(null); // { type: 'delete' | 'finalize', orderId }\n  const [clients, setClients] = useState({});\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        const [ordersData, clientsData] = await Promise.all([apiService.getOrders(userId), apiService.getClients()]);\n        setOrders(ordersData);\n        const clientsMap = {};\n        clientsData.forEach(client => {\n          clientsMap[client.id] = client.companyName;\n        });\n        setClients(clientsMap);\n      } catch (error) {\n        console.error(\"Erro ao buscar dados:\", error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [userId]);\n  const openModal = (type, orderId) => {\n    setModalConfig({\n      type,\n      orderId\n    });\n  };\n  const closeModal = () => {\n    setModalConfig(null);\n  };\n  const handleDelete = async () => {\n    if (!modalConfig) return;\n    try {\n      await apiService.deleteOrder(modalConfig.orderId);\n      setOrders(prev => prev.filter(o => o.id !== modalConfig.orderId));\n    } catch (error) {\n      console.error(\"Erro ao excluir pedido:\", error);\n      alert(\"Falha ao excluir o pedido. Tente novamente.\");\n    } finally {\n      closeModal();\n    }\n  };\n  const handleFinalize = async () => {\n    if (!modalConfig) return;\n    try {\n      await apiService.finalizeOrder(modalConfig.orderId);\n      setOrders(prev => prev.map(o => o.id === modalConfig.orderId ? {\n        ...o,\n        status: 'Entregue',\n        finishedAt: new Date().toISOString()\n      } : o));\n    } catch (error) {\n      console.error(\"Erro ao finalizar pedido:\", error);\n      alert(\"Falha ao finalizar o pedido. Tente novamente.\");\n    } finally {\n      closeModal();\n    }\n  };\n  const handleGeneratePdf = order => {\n    const doc = new jsPDF();\n    doc.setFontSize(14);\n    doc.text(`Pedido #${order.id}`, 10, 10);\n    doc.setFontSize(12);\n    doc.text(`Cliente: ${clients[order.clientId]}`, 10, 20);\n    doc.text(`Vendedor: ${reps[order.userId]}`, 10, 28);\n    doc.text(`Data: ${order.finishedAt ? new Date(order.finishedAt).toLocaleDateString('pt-BR') : 'N/A'}`, 10, 36);\n    const tableColumn = [\"Produto\", \"Marca\", \"Qtd\", \"Preço Unitário\", \"Total\"];\n    const tableRows = order.items.map(item => [item.productName, item.brand, item.quantity, `R$ ${parseFloat(item.price).toFixed(2)}`, `R$ ${(parseFloat(item.price) * item.quantity).toFixed(2)}`]);\n    doc.autoTable({\n      head: [tableColumn],\n      body: tableRows,\n      startY: 50,\n      theme: 'grid',\n      headStyles: {\n        fillColor: [230, 230, 230]\n      },\n      styles: {\n        fontSize: 10\n      }\n    });\n    const finalY = doc.lastAutoTable.finalY;\n    const discountAmount = parseFloat(order.totalPrice) * (parseFloat(order.discount) / 100) || 0;\n    doc.text(`Desconto: R$ ${discountAmount.toFixed(2)} (${order.discount}%)`, 10, finalY + 10);\n    doc.text(`Valor Total: R$ ${parseFloat(order.totalPrice).toFixed(2)}`, 10, finalY + 20);\n    doc.save(`pedido_${order.id}.pdf`);\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8 text-center text-gray-500\",\n      children: \"Carregando pedidos...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 12\n    }, this);\n  }\n  if (showForm) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-8\",\n      children: /*#__PURE__*/_jsxDEV(OrdersForm, {\n        userId: userId,\n        clients: clients,\n        brands: brands,\n        onOrderAdded: newOrder => {\n          setOrders(prev => [...prev, newOrder]);\n          setShowForm(false);\n        },\n        onCancel: () => setShowForm(false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8\",\n    children: [modalConfig && /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n      show: true,\n      onConfirm: modalConfig.type === 'delete' ? handleDelete : handleFinalize,\n      onCancel: closeModal,\n      message: modalConfig.type === 'delete' ? \"Tem certeza que deseja excluir este pedido? Esta ação não pode ser desfeita.\" : \"Tem certeza que deseja finalizar este pedido? Esta ação não pode ser desfeita.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-between items-center mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800\",\n        children: \"Gerenciamento de Pedidos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowForm(true),\n        className: \"bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md\",\n        children: \"+ Criar Pedido\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-gray-600 mb-8\",\n      children: \"Acompanhe o status e hist\\xF3rico de pedidos.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid gap-4 md:grid-cols-2\",\n      children: orders.length > 0 ? orders.map(order => {\n        var _order$items, _parseFloat;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-xl shadow p-4 border border-gray-200 flex flex-col justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-lg font-semibold text-gray-800\",\n              children: [\"Pedido #\", order.id]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"Cliente: \", clients[order.clientId] || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"Vendedor: \", reps[order.userId] || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"Itens: \", ((_order$items = order.items) === null || _order$items === void 0 ? void 0 : _order$items.length) || 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"Descri\\xE7\\xE3o: \", order.description || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"Finalizado em: \", order.finishedAt ? new Date(order.finishedAt).toLocaleDateString('pt-BR') : 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-bold text-blue-600\",\n              children: [\"R$ \", ((_parseFloat = parseFloat(order.totalPrice)) === null || _parseFloat === void 0 ? void 0 : _parseFloat.toFixed(2)) || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 177,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `px-2 py-1 text-xs font-semibold rounded-full ${order.status === 'Entregue' ? 'bg-green-100 text-green-800' : order.status === 'Em aberto' ? 'bg-yellow-100 text-yellow-800' : 'bg-gray-100 text-gray-800'}`,\n              children: order.status || 'N/A'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2 mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => openModal('delete', order.id),\n              className: \"text-red-500 hover:text-red-700 text-sm font-medium\",\n              children: \"Excluir\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 17\n            }, this), order.status === 'Em aberto' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => openModal('finalize', order.id),\n              className: \"text-green-500 hover:text-green-700 text-sm font-medium\",\n              children: \"Finalizar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 19\n            }, this), order.status === 'Entregue' && /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleGeneratePdf(order),\n              className: \"bg-gray-200 text-gray-800 font-bold px-3 py-1 rounded-lg text-sm hover:bg-gray-300\",\n              children: \"Gerar PDF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)]\n        }, order.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-span-full text-center text-gray-500\",\n        children: \"Nenhum pedido encontrado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdersPage, \"Q3xxtDtlV3kwToUVjrBFyUidK+I=\");\n_c = OrdersPage;\nexport default OrdersPage;\nvar _c;\n$RefreshReg$(_c, \"OrdersPage\");","map":{"version":3,"names":["useState","useEffect","jsPDF","apiService","OrdersForm","ConfirmationModal","jsxDEV","_jsxDEV","OrdersPage","userId","reps","brands","_s","orders","setOrders","loading","setLoading","showForm","setShowForm","modalConfig","setModalConfig","clients","setClients","fetchData","ordersData","clientsData","Promise","all","getOrders","getClients","clientsMap","forEach","client","id","companyName","error","console","openModal","type","orderId","closeModal","handleDelete","deleteOrder","prev","filter","o","alert","handleFinalize","finalizeOrder","map","status","finishedAt","Date","toISOString","handleGeneratePdf","order","doc","setFontSize","text","clientId","toLocaleDateString","tableColumn","tableRows","items","item","productName","brand","quantity","parseFloat","price","toFixed","autoTable","head","body","startY","theme","headStyles","fillColor","styles","fontSize","finalY","lastAutoTable","discountAmount","totalPrice","discount","save","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onOrderAdded","newOrder","onCancel","show","onConfirm","message","onClick","length","_order$items","_parseFloat","description","_c","$RefreshReg$"],"sources":["C:/Users/joaow/blum/blum_frontend/src/Pages/OrdersPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport jsPDF from 'jspdf';\r\nimport 'jspdf-autotable';\r\nimport apiService from '../apiService';\r\nimport OrdersForm from '../components/OrdersForm';\r\nimport ConfirmationModal from '../components/ConfirmationModal';\r\n\r\nconst OrdersPage = ({ userId, reps, brands }) => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [modalConfig, setModalConfig] = useState(null); // { type: 'delete' | 'finalize', orderId }\r\n  const [clients, setClients] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const [ordersData, clientsData] = await Promise.all([\r\n          apiService.getOrders(userId),\r\n          apiService.getClients(),\r\n        ]);\r\n\r\n        setOrders(ordersData);\r\n\r\n        const clientsMap = {};\r\n        clientsData.forEach(client => {\r\n          clientsMap[client.id] = client.companyName;\r\n        });\r\n        setClients(clientsMap);\r\n      } catch (error) {\r\n        console.error(\"Erro ao buscar dados:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [userId]);\r\n\r\n  const openModal = (type, orderId) => {\r\n    setModalConfig({ type, orderId });\r\n  };\r\n\r\n  const closeModal = () => {\r\n    setModalConfig(null);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (!modalConfig) return;\r\n    try {\r\n      await apiService.deleteOrder(modalConfig.orderId);\r\n      setOrders(prev => prev.filter(o => o.id !== modalConfig.orderId));\r\n    } catch (error) {\r\n      console.error(\"Erro ao excluir pedido:\", error);\r\n      alert(\"Falha ao excluir o pedido. Tente novamente.\");\r\n    } finally {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const handleFinalize = async () => {\r\n    if (!modalConfig) return;\r\n    try {\r\n      await apiService.finalizeOrder(modalConfig.orderId);\r\n      setOrders(prev =>\r\n        prev.map(o =>\r\n          o.id === modalConfig.orderId\r\n            ? { ...o, status: 'Entregue', finishedAt: new Date().toISOString() }\r\n            : o\r\n        )\r\n      );\r\n    } catch (error) {\r\n      console.error(\"Erro ao finalizar pedido:\", error);\r\n      alert(\"Falha ao finalizar o pedido. Tente novamente.\");\r\n    } finally {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  const handleGeneratePdf = (order) => {\r\n    const doc = new jsPDF();\r\n    doc.setFontSize(14);\r\n    doc.text(`Pedido #${order.id}`, 10, 10);\r\n    doc.setFontSize(12);\r\n    doc.text(`Cliente: ${clients[order.clientId]}`, 10, 20);\r\n    doc.text(`Vendedor: ${reps[order.userId]}`, 10, 28);\r\n    doc.text(`Data: ${order.finishedAt ? new Date(order.finishedAt).toLocaleDateString('pt-BR') : 'N/A'}`, 10, 36);\r\n\r\n    const tableColumn = [\"Produto\", \"Marca\", \"Qtd\", \"Preço Unitário\", \"Total\"];\r\n    const tableRows = order.items.map(item => [\r\n      item.productName,\r\n      item.brand,\r\n      item.quantity,\r\n      `R$ ${parseFloat(item.price).toFixed(2)}`,\r\n      `R$ ${(parseFloat(item.price) * item.quantity).toFixed(2)}`\r\n    ]);\r\n\r\n    doc.autoTable({\r\n      head: [tableColumn],\r\n      body: tableRows,\r\n      startY: 50,\r\n      theme: 'grid',\r\n      headStyles: { fillColor: [230, 230, 230] },\r\n      styles: { fontSize: 10 },\r\n    });\r\n\r\n    const finalY = doc.lastAutoTable.finalY;\r\n    const discountAmount = (parseFloat(order.totalPrice) * (parseFloat(order.discount) / 100)) || 0;\r\n    doc.text(`Desconto: R$ ${discountAmount.toFixed(2)} (${order.discount}%)`, 10, finalY + 10);\r\n    doc.text(`Valor Total: R$ ${parseFloat(order.totalPrice).toFixed(2)}`, 10, finalY + 20);\r\n\r\n    doc.save(`pedido_${order.id}.pdf`);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"p-8 text-center text-gray-500\">Carregando pedidos...</div>;\r\n  }\r\n\r\n  if (showForm) {\r\n    return (\r\n      <div className=\"p-8\">\r\n        <OrdersForm\r\n          userId={userId}\r\n          clients={clients}\r\n          brands={brands}\r\n          onOrderAdded={(newOrder) => {\r\n            setOrders(prev => [...prev, newOrder]);\r\n            setShowForm(false);\r\n          }}\r\n          onCancel={() => setShowForm(false)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-8\">\r\n      {modalConfig && (\r\n        <ConfirmationModal\r\n          show={true}\r\n          onConfirm={modalConfig.type === 'delete' ? handleDelete : handleFinalize}\r\n          onCancel={closeModal}\r\n          message={\r\n            modalConfig.type === 'delete'\r\n              ? \"Tem certeza que deseja excluir este pedido? Esta ação não pode ser desfeita.\"\r\n              : \"Tem certeza que deseja finalizar este pedido? Esta ação não pode ser desfeita.\"\r\n          }\r\n        />\r\n      )}\r\n\r\n      <div className=\"flex justify-between items-center mb-6\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800\">Gerenciamento de Pedidos</h1>\r\n        <button\r\n          onClick={() => setShowForm(true)}\r\n          className=\"bg-blue-600 text-white font-bold px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-300 shadow-md\"\r\n        >\r\n          + Criar Pedido\r\n        </button>\r\n      </div>\r\n\r\n      <p className=\"text-gray-600 mb-8\">Acompanhe o status e histórico de pedidos.</p>\r\n\r\n      <div className=\"grid gap-4 md:grid-cols-2\">\r\n        {orders.length > 0 ? (\r\n          orders.map(order => (\r\n            <div key={order.id} className=\"bg-white rounded-xl shadow p-4 border border-gray-200 flex flex-col justify-between\">\r\n              <div>\r\n                <h2 className=\"text-lg font-semibold text-gray-800\">Pedido #{order.id}</h2>\r\n                <p className=\"text-sm text-gray-500\">Cliente: {clients[order.clientId] || 'N/A'}</p>\r\n                <p className=\"text-sm text-gray-500\">Vendedor: {reps[order.userId] || 'N/A'}</p>\r\n                <p className=\"text-sm text-gray-500\">Itens: {order.items?.length || 0}</p>\r\n                <p className=\"text-sm text-gray-500\">Descrição: {order.description || 'N/A'}</p>\r\n                <p className=\"text-sm text-gray-500\">Finalizado em: {order.finishedAt ? new Date(order.finishedAt).toLocaleDateString('pt-BR') : 'N/A'}</p>\r\n              </div>\r\n\r\n              <div className=\"flex justify-between items-center mt-4\">\r\n                <span className=\"font-bold text-blue-600\">R$ {parseFloat(order.totalPrice)?.toFixed(2) || 'N/A'}</span>\r\n                <span className={`px-2 py-1 text-xs font-semibold rounded-full ${\r\n                  order.status === 'Entregue' ? 'bg-green-100 text-green-800' :\r\n                  order.status === 'Em aberto' ? 'bg-yellow-100 text-yellow-800' :\r\n                  'bg-gray-100 text-gray-800'\r\n                }`}>\r\n                  {order.status || 'N/A'}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"flex space-x-2 mt-4\">\r\n                <button\r\n                  onClick={() => openModal('delete', order.id)}\r\n                  className=\"text-red-500 hover:text-red-700 text-sm font-medium\"\r\n                >\r\n                  Excluir\r\n                </button>\r\n                {order.status === 'Em aberto' && (\r\n                  <button\r\n                    onClick={() => openModal('finalize', order.id)}\r\n                    className=\"text-green-500 hover:text-green-700 text-sm font-medium\"\r\n                  >\r\n                    Finalizar\r\n                  </button>\r\n                )}\r\n                {order.status === 'Entregue' && (\r\n                  <button\r\n                    onClick={() => handleGeneratePdf(order)}\r\n                    className=\"bg-gray-200 text-gray-800 font-bold px-3 py-1 rounded-lg text-sm hover:bg-gray-300\"\r\n                  >\r\n                    Gerar PDF\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <div className=\"col-span-full text-center text-gray-500\">Nenhum pedido encontrado.</div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}